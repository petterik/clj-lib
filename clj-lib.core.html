<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-lib.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-lib</span> <span class="project-version">0.8.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-lib</span></div></div></li><li class="depth-2 branch current"><a href="clj-lib.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="clj-lib.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2"><a href="clj-lib.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-lib.core.html#var-avg"><div class="inner"><span>avg</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-between"><div class="inner"><span>between</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-catch-and-return-throwable"><div class="inner"><span>catch-and-return-throwable</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-clamp"><div class="inner"><span>clamp</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-deep-merge"><div class="inner"><span>deep-merge</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-deep-merge-with"><div class="inner"><span>deep-merge-with</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-defdata"><div class="inner"><span>defdata</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-disj-in"><div class="inner"><span>disj-in</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-escape-quotes"><div class="inner"><span>escape-quotes</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-map-kv"><div class="inner"><span>map-kv</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-maybe.3F"><div class="inner"><span>maybe?</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-min-max"><div class="inner"><span>min-max</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-not-neg.3F"><div class="inner"><span>not-neg?</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-quote-string"><div class="inner"><span>quote-string</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-removev"><div class="inner"><span>removev</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-retry"><div class="inner"><span>retry</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-retry*"><div class="inner"><span>retry*</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-round"><div class="inner"><span>round</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-safe"><div class="inner"><span>safe</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-str.3D"><div class="inner"><span>str=</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-thread"><div class="inner"><span>thread</span></div></a></li><li class="depth-1"><a href="clj-lib.core.html#var-throw-if-throwable"><div class="inner"><span>throw-if-throwable</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-lib.core</h1><div class="doc"><pre class="plaintext">Useful fns, of all purposes, that might be considered language extensions.
</pre></div><div class="public anchor" id="var-avg"><h3>avg</h3><div class="usage"><code>(avg &amp; vs)</code></div><div class="doc"><pre class="plaintext">Returns the average of the numbers `vs`; a la clj min/max
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L95">view source</a></div></div><div class="public anchor" id="var-between"><h3>between</h3><div class="usage"><code>(between v min max)</code></div><div class="doc"><pre class="plaintext">Returns true if `v` is between `min` and `max`, inclusive of both.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L55">view source</a></div></div><div class="public anchor" id="var-catch-and-return-throwable"><h3>catch-and-return-throwable</h3><h4 class="type">macro</h4><div class="usage"><code>(catch-and-return-throwable &amp; body)</code></div><div class="doc"><pre class="plaintext">Tries `f`. If `f` throws a `Throwable`, it is caught and returned.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L161">view source</a></div></div><div class="public anchor" id="var-clamp"><h3>clamp</h3><div class="usage"><code>(clamp nmin nmax)</code><code>(clamp n nmin nmax)</code></div><div class="doc"><pre class="plaintext">Clamps number `n` between `min` and `max` inclusive of each. When called with
only two args, produces a transducer.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L60">view source</a></div></div><div class="public anchor" id="var-deep-merge"><h3>deep-merge</h3><div class="usage"><code>(deep-merge &amp; maps)</code></div><div class="doc"><pre class="plaintext">Like merge, but recursive.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L130">view source</a></div></div><div class="public anchor" id="var-deep-merge-with"><h3>deep-merge-with</h3><div class="usage"><code>(deep-merge-with f &amp; maps)</code></div><div class="doc"><pre class="plaintext">Like `merge-with`, but recursive so it works more than 1-level deep.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L137">view source</a></div></div><div class="public anchor" id="var-defdata"><h3>defdata</h3><h4 class="type">macro</h4><div class="usage"><code>(defdata name path)</code></div><div class="doc"><pre class="plaintext">Macro for compiling some data at build time from an edn file, to avoid
runtime lookups to the file.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L211">view source</a></div></div><div class="public anchor" id="var-disj-in"><h3>disj-in</h3><div class="usage"><code>(disj-in m ks elem)</code></div><div class="doc"><pre class="plaintext">Roughly equivalent to `(update-in m ks disj elem)`, except that empty sets
are dissociated.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L113">view source</a></div></div><div class="public anchor" id="var-escape-quotes"><h3>escape-quotes</h3><div class="usage"><code>(escape-quotes s)</code></div><div class="doc"><pre class="plaintext">Double-escapes double-quotes in `s`.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L48">view source</a></div></div><div class="public anchor" id="var-map-kv"><h3>map-kv</h3><div class="usage"><code>(map-kv f m)</code></div><div class="doc"><pre class="plaintext">Maps `f` on the vals of `m`, producing a new map with the same keys.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L125">view source</a></div></div><div class="public anchor" id="var-maybe.3F"><h3>maybe?</h3><div class="usage"><code>(maybe? pred? val)</code></div><div class="doc"><pre class="plaintext">Returns true if either `val` is nil or `(pred? val)` returns truthful.

Useful for situations where `nil` is acceptable, but when non-nil `val` is
expected to meet some criterion.

Examples:

    (maybe? map? m)
    (maybe? string? s)
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L14">view source</a></div></div><div class="public anchor" id="var-min-max"><h3>min-max</h3><div class="usage"><code>(min-max coll)</code></div><div class="doc"><pre class="plaintext">Returns [(min coll) (max coll)] while iterating coll only once
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L101">view source</a></div></div><div class="public anchor" id="var-not-neg.3F"><h3>not-neg?</h3><div class="usage"></div><div class="doc"><pre class="plaintext">As named. Equivalent to `(or (pos? v) (zero? v))`.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L29">view source</a></div></div><div class="public anchor" id="var-quote-string"><h3>quote-string</h3><div class="usage"><code>(quote-string s)</code></div><div class="doc"><pre class="plaintext">Returns `s` surrounded by double-quotes.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L40">view source</a></div></div><div class="public anchor" id="var-removev"><h3>removev</h3><div class="usage"><code>(removev v i)</code></div><div class="doc"><pre class="plaintext">Returns vector `v` with index `i` removed.  `v` is nil, returns nil. `i` must
be a 0-indexed integer between 0 and the length of `v`.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L144">view source</a></div></div><div class="public anchor" id="var-retry"><h3>retry</h3><h4 class="type">macro</h4><div class="usage"><code>(retry count pred? &amp; body)</code></div><div class="doc"><pre class="plaintext">Tries to execute `body` up to the number of times specified or until `pred?` returns
truthful given the result of executing `body`.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L198">view source</a></div></div><div class="public anchor" id="var-retry*"><h3>retry*</h3><div class="usage"><code>(retry* n pred? f)</code></div><div class="doc"><pre class="plaintext">Tries to execute `f` up to the number of times specified or until `pred?` returns
truthful given the result of executing `f`. If `f` throws, the thrown value is caught
and passed to `pred?`.

This can be used to retry until a non-Exception response, like so:
```
(retry* 5 (complement #(instance? Throwable %)) some-fn)
```

Or, used to retry until a non-nil response, like so:
```
(retry* 5 (complement nil?) some-fn)
```

When `n` retries are reached, the result of the final `f` will be returned or thrown
if it is throwable, regardless of `pred?`.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L171">view source</a></div></div><div class="public anchor" id="var-round"><h3>round</h3><div class="usage"><code>(round precision)</code><code>(round precision n)</code></div><div class="doc"><pre class="plaintext">Rounds a number to the specified precision. This is a modified version of the
round fn used here: <a href="http://clojure-doc.org/articles/language/functions.html">http://clojure-doc.org/articles/language/functions.html</a>
Compared to the reference, the argument order is reversed so it is more easily
used in partially applied form as a map fn. When called with only a precision,
returns a transducer.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L78">view source</a></div></div><div class="public anchor" id="var-safe"><h3>safe</h3><h4 class="type">macro</h4><div class="usage"><code>(safe &amp; body)</code></div><div class="doc"><pre class="plaintext">Suppresses any exceptions that are thrown, returning nil instead.
</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L156">view source</a></div></div><div class="public anchor" id="var-str.3D"><h3>str=</h3><div class="usage"><code>(str= &amp; args)</code></div><div class="doc"><pre class="plaintext">Evaulates equality by converting all args to strings and then testing with
string equality. Useful when comparing stringy values that may not all be
strings, such as `1`, `"1"`, and `:1`.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L33">view source</a></div></div><div class="public anchor" id="var-thread"><h3>thread</h3><h4 class="type">macro</h4><div class="usage"><code>(thread &amp; body)</code></div><div class="doc"><pre class="plaintext">Executes `body` in a new thread. Like `future`, except it returns the thread
instead of the result of `body`.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L204">view source</a></div></div><div class="public anchor" id="var-throw-if-throwable"><h3>throw-if-throwable</h3><div class="usage"><code>(throw-if-throwable v)</code></div><div class="doc"><pre class="plaintext">Implementation detail.

If `v` is a Throwable, throws `v`. Otherwise, returns `v`.</pre></div><div class="src-link"><a href="http://github.com/rwilson/clj-lib/blob/master/src/clj_lib/core.clj/#L165">view source</a></div></div></div></body></html>